<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script charset="utf-8" src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
    <title>JJ LIFF</title>
</head>

<body>
    <div id="wrapper"></div>
    <img id="img_wrapper" src="">
    <script>
        const wrapper = document.querySelector("#wrapper");
        const liffId = '2001418225-45P9W0Xb';
        // liff.ready.then(() => {
        //     console.log('liff ready');
        // });

        liff.init({ liffId }, () => {
            if (!liff.isLoggedIn()) {
                liff.login({})
            }
            liff.getProfile().then((profile) => {
                wrapper.textContent = JSON.stringify({
                    OS: liff.getOS(),
                    language: liff.getLanguage(),
                    sdkVersion: liff.getVersion(),
                    lineVersion: liff.getLineVersion(),
                    context: liff.getContext(),
                    isLogin: liff.isLoggedIn(),
                    accessToken: liff.getAccessToken(),
                    idToken: liff.getIDToken(),
                    profile
                });
                document.querySelector("#img_wrapper").src = profile.pictureUrl;
            });
            

            
        }, (err) => console.log(err));
    </script>
</body>

</html>
