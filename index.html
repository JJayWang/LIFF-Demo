<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script charset="utf-8" src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
    <title>JJ LIFF</title>
</head>

<body>
    <div>
        <span>URL</span>
        <input id="url" type="text" value="https://www.fire.taichung.gov.tw/"/>
        <button id="btn">Redirect</button>
        <button id="btn2">Redirect2</button>
    </div>
    <!-- <div id="wrapper"></div>
    <img id="img_wrapper" src=""> -->
    <script>
        // const wrapper = document.querySelector("#wrapper");
        const liffId = '2001418225-xJjL4bkv';

        liff.init({ liffId }, () => {
            document.querySelector("#btn").addEventListener("click", () => {
                const url = document.querySelector("#url").value;
                if(url !== "") {
                    console.log(url)
                    window.location.href = url;
                }
            })

            document.querySelector("#btn2").addEventListener("click", () => {
                window.location.href = "https://access.line.me/dialog/bot/accountLink?linkToken=Dd59ALhddego9hg8mAkKxRd5guCC5zm0&nonce=8iPrAzSxgJB1FEQJ0UM7yxdbfiVDXQntPJWUXdnCyQ4%3d";
            })
            // if (!liff.isLoggedIn()) {
            //     liff.login()
            // }
            // let userProfile = {};
            // liff.getProfile().then((profile) => {
            //     userProfile = profile;
            // });
            // wrapper.textContent = JSON.stringify({
            //     OS: liff.getOS(),
            //     language: liff.getLanguage(),
            //     sdkVersion: liff.getVersion(),
            //     lineVersion: liff.getLineVersion(),
            //     context: liff.getContext(),
            //     isLogin: liff.isLoggedIn(),
            //     accessToken: liff.getAccessToken(),
            //     idToken: liff.getIDToken(),
            //     userProfile
            // });

            // document.querySelector("#img_wrapper").attr("src", userProfile.pictureUrl);;
        }, (err) => console.log(err));
    </script>
</body>

</html>
